# ボイスメッセージ送受信アプリ

このプロジェクトは、Flutter製モバイルアプリとNode.js（Express）バックエンドで構成される、音声メッセージの送受信アプリです。

## ディレクトリ構成

- **voice_message_app/** : Flutterモバイルアプリ
- **backend/**  : Node.js（Express）APIサーバー
- **README.md** : このファイル

## 現在実装されている機能

### 📱 モバイルアプリ（Flutter）

#### 1. **音声録音機能**
- マイクを使用した音声メッセージの録音
- リアルタイム再生時間表示
- 録音の一時停止・再開
- タイムスタンプ付きで自動保存（例：`voice_1703234567890.m4a`）

#### 2. **フォロワー管理**
- フォロワー一覧の表示
- 複数フォロワーへの同時送信機能
- フォロワー情報の表示（名前、ユーザー名）

#### 3. **ボイスメッセージ送信**
- 選択したフォロワーへの音声メッセージ送信
- 複数フォロワーへの一括送信
- 送信状況のリアルタイム表示
- 添付ファイル（画像）の選択機能

#### 4. **受信メッセージ管理**
- 受信したボイスメッセージ一覧の表示
- 送信者情報の表示
- 受信日時の記録
- メッセージ詳細情報の表示

#### 5. **音声再生機能**
- 受信したメッセージの再生
- 再生時間表示
- 再生コントロール（再生/一時停止/停止）
- 複数ファイルの再生管理

#### 6. **プロフィール画面**
- ユーザー情報の表示
- アプリ情報

#### 7. **権限管理**
- マイクアクセス権限の自動リクエスト
- 権限状態の確認

### 🔧 バックエンド（Node.js + Express）

#### 1. **ファイルアップロード機能**
- `POST /upload` - 音声ファイルのアップロード
- multipart/form-data形式でのファイル受信
- 自動ファイル保存（uploads フォルダ）
- タイムスタンプ付きファイル名生成

#### 2. **ファイル一覧取得API**
- `GET /voices` - 保存済みの全音声ファイル一覧を取得
- m4a, mp3, wav, aac, ogg 形式に対応
- JSON形式でのレスポンス

#### 3. **ファイルダウンロード機能**
- `GET /voice/:filename` - 特定の音声ファイルをダウンロード
- ストリーミング再生対応

## セットアップ手順

### 1. バックエンド
```bash
cd backend
npm install
npm start
```
サーバーは `http://localhost:3000` で起動します

### 2. モバイルアプリ
```bash
cd voice_message_app
flutter pub get
flutter run
```
cd mobile
flutter pub get
flutter run
```

---

詳細な実装やAPI仕様は今後追記します。
