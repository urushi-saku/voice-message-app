# プロジェクト構造

このプロジェクトは、ファイルを責務ごとに分割して整理しました。

## ディレクトリ構造

```
voice_message_app/
  lib/
    main.dart                    # アプリのエントリーポイント
    constants.dart               # 定数（サーバーURL等）
    
    services/                    # ビジネスロジック層
      api_service.dart          # サーバー通信
      audio_service.dart        # 音声録音・再生
    
    screens/                     # 画面（UI）層
      home_page.dart            # ホーム画面
      profile_page.dart         # プロフィール画面
```

## 各ファイルの責務

### `main.dart`
- アプリのエントリーポイント
- アプリ全体の設定（テーマ、タイトル）
- 最初に表示する画面の指定

### `constants.dart`
- サーバーのURL
- APIエンドポイントのパス
- その他の定数

### `services/api_service.dart`
- サーバーとのHTTP通信
- 音声ファイルのアップロード
- 音声ファイル一覧の取得
- 音声ファイルURLの生成

### `services/audio_service.dart`
- 音声の録音（開始/停止）
- 音声の再生（ローカル/リモート）
- オーディオリソースの管理

### `screens/home_page.dart`
- ホーム画面のUI
- 録音ボタン
- 音声リストの表示
- ユーザーインタラクションの処理

### `screens/profile_page.dart`
- プロフィール画面のUI
- ユーザー情報の表示
- プロフィール編集機能（準備中）

## 初学者向けの補足

### なぜファイルを分けるの？

1. **見通しがよくなる**: 各ファイルが小さく、読みやすい
2. **修正しやすい**: どこに何が書いてあるか分かりやすい
3. **再利用しやすい**: 例えば`audio_service.dart`は他のプロジェクトでも使える
4. **テストしやすい**: 各機能を独立してテストできる
5. **チーム開発**: 複数人で同時に作業しやすい

### 責務の分離とは？

- **UI（画面）**: ユーザーが見る部分・操作する部分
- **サービス（ビジネスロジック）**: 実際の処理を行う部分
- **定数**: 変更される可能性がある値を一箇所で管理

これを分けることで、例えば「サーバーのURLを変更する」ときは
`constants.dart`だけを修正すればよくなります。

### データの流れ

```
ユーザー操作（UI）
    ↓
screens/home_page.dart（画面）
    ↓
services/audio_service.dart（録音・再生）
services/api_service.dart（サーバー通信）
    ↓
バックエンドサーバー
```
