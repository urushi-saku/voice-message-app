# ========================================
# .env.docker — Docker コンテナ起動用 環境変数テンプレート
# ========================================
# このファイルをコピーして .env.docker として保存し、適切な値を設定してください
# cp .env.docker.example .env.docker
#
# ⚠️  .env.docker は .gitignore に追加して秘密情報をリポジトリに含めないこと
# ========================================

# ── MongoDB ─────────────────────────────────────────────────
# docker-compose の mongo サービスへ接続する URI
# コンテナ名 "mongo" はサービス名と一致させること
MONGODB_URI=mongodb://vio:viopassword@mongo:27017/voice_message_app?authSource=admin

# MongoDB ルートユーザー（docker-compose.yml の MONGO_INITDB_ROOT_* と合わせる）
MONGO_ROOT_USER=vio
MONGO_ROOT_PASSWORD=viopassword

# ── Redis ────────────────────────────────────────────────────
# 接続文字列で指定（REDIS_URL が優先）
# ローカル開発 (docker-compose): REDIS_URL="redis://redis:6379"
# 本番 (Upstash): REDIS_URL="rediss://default:PASSWORD@hostname:6379" ← 注意: s付き！
REDIS_URL=redis://redis:6379

# ── JWT ─────────────────────────────────────────────────────
# 本番環境では十分に長くランダムな文字列を使用すること
# openssl rand -base64 64 で生成可能
JWT_SECRET=change_this_to_a_very_long_random_string_in_production

# ── サーバー設定 ──────────────────────────────────────────────
PORT=3000
NODE_ENV=production

# ── Firebase Cloud Messaging ─────────────────────────────────
# serviceAccountKey.json は docker-compose.yml でボリュームマウントする
# FIREBASE_SERVICE_ACCOUNT_KEY=./config/serviceAccountKey.json

# ── SMTP（パスワードリセットメール） ──────────────────────────
# 未設定時はリセット URL をコンソールに出力（開発用フォールバック）
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your_email@gmail.com
# SMTP_PASS=your_app_password

# ── Sentry エラーモニタリング ─────────────────────────────────
# 未設定時は Sentry 無効化（ローカル開発に影響なし）
# SENTRY_DSN=https://xxx@ooo.ingest.sentry.io/yyy
